<!DOCTYPE html>
<html lang="en">
<head>

     <!--  Google Chart library -->
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
  
//array of json objects
    var classmate_data = [
      {
        'name'      : 'John',
        'shadow'    : 'no',
        'galic'     : 'no',
        'complexion': 'pale'
      },
      {
        'name'      : 'Lee',
        'shadow'    : 'yes',
        'galic'     : 'no',
        'complexion': 'pale'
      },
      {
        'name'      : 'Emma',
        'shadow'    : 'no',
        'galic'     : 'yes',
        'complexion': 'brown'
      },
      {
        'name'      : 'Ava',
        'shadow'    : 'yes',
        'galic'     : 'yes',
        'complexion': 'olive '
      },
      {
        'name'      : 'Alex',
        'shadow'    : 'no',
        'galic'     : 'no',
        'complexion': 'brown'
      },
    ];

    // Load the Visualization API and the corechart package.
    google.charts.load('current', {'packages':['corechart']});

    // Set a callback to run when the Google Visualization API is loaded.
    google.charts.setOnLoadCallback(drawChart);

    
    // Callback that creates and populates a data table,
    // instantiates the pie chart, passes in the data and
    // draws it.
    function drawChart() {
      var data = new google.visualization.DataTable();
      classmate_data_processing(data);

  
      // Set chart options
      var options = {'title':'How many vampires in the class?',
                     'width':400,
                     'height':300};

      // Instantiate and draw our chart, passing in some options.
      var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
      chart.draw(data, options);
    }

    // model of MVC
    function classmate_data_processing(result_data){
      // this function process classmate data and create data table
      var num_human = 0;
      var num_vampire = 0;
      for (var i =  0; i <= classmate_data.length - 1; i++) {
        // logic based on shadow 
        if(classmate_data[i]['shadow'] == 'no'){
          num_vampire ++;
        }
        else{
          num_human ++;
        }
      }
      // Create the data table.
      result_data.addColumn('string', 'Element');
      result_data.addColumn('number', 'Vampire');
      result_data.addRows([     
        ['Human', num_human],
        ['Vampire', num_vampire]
      ]);

    }
  </script>

  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

  <script type="text/javascript">
    
    function is_vampire() {
        
    var shadow = 0;
    var complexion = 0;
    var garlic = 0;

    var shadow_string = "";
    var garlic_string = "";


      if(document.getElementById("galic_checkbox").checked) 
      {
         garlic = 0;
         garlic_string = "yes";
      }
      else
      {
         garlic = 3;
         garlic_string = "no";
      }

      if(document.getElementById("shadow_checkbox").checked) 
      {
          shadow = 0;
        shadow_string = "yes";  
      }
      else
      {
         shadow = 4;
        shadow_string = "no";
      }

      if(document.getElementById("complexion_id").value == 'pale'|'Pale')
      {
          complexion = 3;
      }
      else
      {
        complexion = 0;
      }

      var status = (garlic + shadow + complexion > 6) ? "classmate is vampire":"not sure if classmate is vampire";
        
    window.alert(status);
    
    //json object to hold classmate info
    classmate_data.push(classmate_obj = 
        {'name'      : document.getElementById("firstName"),
        'shadow'    : shadow_string,
        'galic'     : garlic_string,
        'complexion': document.getElementById("complexion_id")})
    
    drawChart();
    }


    function output_user_info(){
      // use this
      document.getElementById('first_name').value;

      var gender_str;
      if (document.getElementById('male_radio').checked)
      {
          gender_str = "male";
      }
      else 
      {
         gender_str = "female"
      }

    }
  </script>
</head>
<body>


<div class="container">
  <h2>Form control: input</h2>
  <form>
    <div class="form-row">
      <!-- md is short for Medium, >= 768 px -->
      <div class="form-group col-md-4">
        <label for="first_name">First Name</label>
        <!-- possible types:  text, password, datetime, datetime-local, date, month, time, week, number, email, url, search, tel, and color. -->
        <input type="text" class="form-control" id="first_name" placeholder="First Name">
        <!-- <input type="time" class="form-control" id="first_name" placeholder="Frist Name"> -->
        <!-- <input type="color" class="form-control" id="first_name" placeholder="Frist Name"> -->
      </div>

      <!-- The .form-group class is the easiest way to add some structure to forms. It provides a flexible class that encourages proper grouping of labels, controls, optional help text, and form validation messaging. -->
      <div class="form-group col-md-4">
        <label for="middle_name">Middle Name</label>
        <input type="text" class="form-control" id="middle_name" placeholder="Middle Name">
      </div>

      <div class="form-group col-md-4">
        <label for="last_name">Last Name</label>
        <input type="text" class="form-control" id="last_name" placeholder="Last Name">
      </div>
    </div>


   <div class="form-row">
      <div class="form-group col-md-12">
        <!-- same name so you can only select one option -->
        <div class="radio">
          <label><input type="radio" name="optradio" id="male_radio" checked>Male</label>
        </div>
        <div class="radio">
          <label><input type="radio" name="optradio" id="female_radio">Female</label>
        </div>
      </div>
    </div>

    <div class="form-row">
      <!-- without this, your rows will not be aligned -->
      <div class="form-group col-md-12">
        <div class="checkbox">
          <label><input type="checkbox" id="galic_checkbox">Garlic</label>
        </div>
        <div class="checkbox">
          <label><input type="checkbox" id="shadow_checkbox">Shadow</label>
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group col-md-12">
        <label for="complexion">Complexion</label>
        <input type="text" class="form-control" id="complexion_id" placeholder="complexion">
      </div>
    </div>
  </form>

  <!-- How to display all user input information as a paragraph? Finish the output_user_info function -->
  <button class="btn btn-primary" onclick="is_vampire()">Submit</button>
  
  <p id="user_info"></p>
</div>
<div id="chart_div"></div>
</body>
</html>
